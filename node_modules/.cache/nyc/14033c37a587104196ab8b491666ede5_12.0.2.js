'use strict';var cov_2m5tdfd6s9=function(){var path="/home/dubby/Documents/andelaBootcamp/iReporter/iReporter/dummyApi/Helpers/validateRedFlag.js",hash="b3f485a60a601a2939c005c11dae603b514a5a19",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/dubby/Documents/andelaBootcamp/iReporter/iReporter/dummyApi/Helpers/validateRedFlag.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:19},end:{line:7,column:563}},"2":{start:{line:7,column:76},end:{line:7,column:347}},"3":{start:{line:7,column:134},end:{line:7,column:142}},"4":{start:{line:7,column:144},end:{line:7,column:199}},"5":{start:{line:7,column:200},end:{line:7,column:231}},"6":{start:{line:7,column:232},end:{line:7,column:286}},"7":{start:{line:7,column:259},end:{line:7,column:286}},"8":{start:{line:7,column:287},end:{line:7,column:345}},"9":{start:{line:7,column:350},end:{line:7,column:559}},"10":{start:{line:7,column:407},end:{line:7,column:475}},"11":{start:{line:7,column:423},end:{line:7,column:475}},"12":{start:{line:7,column:476},end:{line:7,column:536}},"13":{start:{line:7,column:493},end:{line:7,column:536}},"14":{start:{line:7,column:537},end:{line:7,column:556}},"15":{start:{line:9,column:50},end:{line:9,column:151}},"16":{start:{line:9,column:92},end:{line:9,column:149}},"17":{start:{line:11,column:20},end:{line:11,column:74}},"18":{start:{line:13,column:23},end:{line:130,column:3}},"19":{start:{line:24,column:4},end:{line:24,column:44}},"20":{start:{line:26,column:4},end:{line:26,column:24}},"21":{start:{line:27,column:4},end:{line:27,column:20}},"22":{start:{line:35,column:2},end:{line:127,column:6}},"23":{start:{line:38,column:6},end:{line:41,column:7}},"24":{start:{line:39,column:8},end:{line:39,column:29}},"25":{start:{line:40,column:8},end:{line:40,column:79}},"26":{start:{line:46,column:6},end:{line:49,column:7}},"27":{start:{line:47,column:8},end:{line:47,column:29}},"28":{start:{line:48,column:8},end:{line:48,column:82}},"29":{start:{line:54,column:6},end:{line:57,column:7}},"30":{start:{line:55,column:8},end:{line:55,column:29}},"31":{start:{line:56,column:8},end:{line:56,column:72}},"32":{start:{line:62,column:6},end:{line:65,column:7}},"33":{start:{line:63,column:8},end:{line:63,column:29}},"34":{start:{line:64,column:8},end:{line:64,column:79}},"35":{start:{line:70,column:6},end:{line:73,column:7}},"36":{start:{line:71,column:8},end:{line:71,column:29}},"37":{start:{line:72,column:8},end:{line:72,column:65}},"38":{start:{line:78,column:6},end:{line:81,column:7}},"39":{start:{line:79,column:8},end:{line:79,column:29}},"40":{start:{line:80,column:8},end:{line:80,column:51}},"41":{start:{line:86,column:6},end:{line:89,column:7}},"42":{start:{line:87,column:8},end:{line:87,column:29}},"43":{start:{line:88,column:8},end:{line:88,column:62}},"44":{start:{line:94,column:6},end:{line:94,column:26}},"45":{start:{line:95,column:6},end:{line:95,column:27}},"46":{start:{line:100,column:18},end:{line:100,column:42}},"47":{start:{line:101,column:6},end:{line:103,column:9}},"48":{start:{line:102,column:8},end:{line:102,column:27}},"49":{start:{line:104,column:6},end:{line:107,column:7}},"50":{start:{line:105,column:8},end:{line:105,column:29}},"51":{start:{line:106,column:8},end:{line:106,column:59}},"52":{start:{line:112,column:6},end:{line:112,column:24}},"53":{start:{line:113,column:6},end:{line:113,column:49}},"54":{start:{line:114,column:6},end:{line:114,column:39}},"55":{start:{line:115,column:6},end:{line:115,column:47}},"56":{start:{line:116,column:6},end:{line:116,column:43}},"57":{start:{line:117,column:6},end:{line:117,column:43}},"58":{start:{line:118,column:6},end:{line:118,column:43}},"59":{start:{line:119,column:6},end:{line:119,column:45}},"60":{start:{line:120,column:6},end:{line:120,column:46}},"61":{start:{line:121,column:16},end:{line:124,column:7}},"62":{start:{line:125,column:6},end:{line:125,column:17}},"63":{start:{line:129,column:2},end:{line:129,column:26}},"64":{start:{line:132,column:0},end:{line:132,column:35}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:19},end:{line:7,column:20}},loc:{start:{line:7,column:31},end:{line:7,column:561}},line:7},"1":{name:"defineProperties",decl:{start:{line:7,column:42},end:{line:7,column:58}},loc:{start:{line:7,column:74},end:{line:7,column:349}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:7,column:357},end:{line:7,column:358}},loc:{start:{line:7,column:405},end:{line:7,column:558}},line:7},"3":{name:"_classCallCheck",decl:{start:{line:9,column:9},end:{line:9,column:24}},loc:{start:{line:9,column:48},end:{line:9,column:153}},line:9},"4":{name:"(anonymous_4)",decl:{start:{line:13,column:50},end:{line:13,column:51}},loc:{start:{line:13,column:62},end:{line:130,column:1}},line:13},"5":{name:"RedFlagValidator",decl:{start:{line:23,column:11},end:{line:23,column:27}},loc:{start:{line:23,column:30},end:{line:28,column:3}},line:23},"6":{name:"testForCreatedBy",decl:{start:{line:37,column:20},end:{line:37,column:36}},loc:{start:{line:37,column:48},end:{line:42,column:5}},line:37},"7":{name:"testForType",decl:{start:{line:45,column:20},end:{line:45,column:31}},loc:{start:{line:45,column:38},end:{line:50,column:5}},line:45},"8":{name:"testForLocation",decl:{start:{line:53,column:20},end:{line:53,column:35}},loc:{start:{line:53,column:46},end:{line:58,column:5}},line:53},"9":{name:"testForStatus",decl:{start:{line:61,column:20},end:{line:61,column:33}},loc:{start:{line:61,column:42},end:{line:66,column:5}},line:61},"10":{name:"testForImages",decl:{start:{line:69,column:20},end:{line:69,column:33}},loc:{start:{line:69,column:42},end:{line:74,column:5}},line:69},"11":{name:"testForVideos",decl:{start:{line:77,column:20},end:{line:77,column:33}},loc:{start:{line:77,column:42},end:{line:82,column:5}},line:77},"12":{name:"testForComment",decl:{start:{line:85,column:20},end:{line:85,column:34}},loc:{start:{line:85,column:44},end:{line:90,column:5}},line:85},"13":{name:"resetValid",decl:{start:{line:93,column:20},end:{line:93,column:30}},loc:{start:{line:93,column:33},end:{line:96,column:5}},line:93},"14":{name:"testForEmptyStringInput",decl:{start:{line:99,column:20},end:{line:99,column:43}},loc:{start:{line:99,column:55},end:{line:108,column:5}},line:99},"15":{name:"(anonymous_15)",decl:{start:{line:101,column:26},end:{line:101,column:27}},loc:{start:{line:101,column:42},end:{line:103,column:7}},line:101},"16":{name:"testRedFlag",decl:{start:{line:111,column:20},end:{line:111,column:31}},loc:{start:{line:111,column:43},end:{line:126,column:5}},line:111}},branchMap:{"0":{loc:{start:{line:7,column:168},end:{line:7,column:198}},type:"binary-expr",locations:[{start:{line:7,column:168},end:{line:7,column:189}},{start:{line:7,column:193},end:{line:7,column:198}}],line:7},"1":{loc:{start:{line:7,column:232},end:{line:7,column:286}},type:"if",locations:[{start:{line:7,column:232},end:{line:7,column:286}},{start:{line:7,column:232},end:{line:7,column:286}}],line:7},"2":{loc:{start:{line:7,column:407},end:{line:7,column:475}},type:"if",locations:[{start:{line:7,column:407},end:{line:7,column:475}},{start:{line:7,column:407},end:{line:7,column:475}}],line:7},"3":{loc:{start:{line:7,column:476},end:{line:7,column:536}},type:"if",locations:[{start:{line:7,column:476},end:{line:7,column:536}},{start:{line:7,column:476},end:{line:7,column:536}}],line:7},"4":{loc:{start:{line:9,column:50},end:{line:9,column:151}},type:"if",locations:[{start:{line:9,column:50},end:{line:9,column:151}},{start:{line:9,column:50},end:{line:9,column:151}}],line:9},"5":{loc:{start:{line:38,column:6},end:{line:41,column:7}},type:"if",locations:[{start:{line:38,column:6},end:{line:41,column:7}},{start:{line:38,column:6},end:{line:41,column:7}}],line:38},"6":{loc:{start:{line:46,column:6},end:{line:49,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:49,column:7}},{start:{line:46,column:6},end:{line:49,column:7}}],line:46},"7":{loc:{start:{line:46,column:10},end:{line:46,column:98}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:34}},{start:{line:46,column:38},end:{line:46,column:64}},{start:{line:46,column:68},end:{line:46,column:98}}],line:46},"8":{loc:{start:{line:54,column:6},end:{line:57,column:7}},type:"if",locations:[{start:{line:54,column:6},end:{line:57,column:7}},{start:{line:54,column:6},end:{line:57,column:7}}],line:54},"9":{loc:{start:{line:54,column:10},end:{line:54,column:71}},type:"binary-expr",locations:[{start:{line:54,column:10},end:{line:54,column:38}},{start:{line:54,column:42},end:{line:54,column:71}}],line:54},"10":{loc:{start:{line:62,column:6},end:{line:65,column:7}},type:"if",locations:[{start:{line:62,column:6},end:{line:65,column:7}},{start:{line:62,column:6},end:{line:65,column:7}}],line:62},"11":{loc:{start:{line:62,column:10},end:{line:62,column:172}},type:"binary-expr",locations:[{start:{line:62,column:10},end:{line:62,column:36}},{start:{line:62,column:40},end:{line:62,column:65}},{start:{line:62,column:69},end:{line:62,column:108}},{start:{line:62,column:112},end:{line:62,column:140}},{start:{line:62,column:144},end:{line:62,column:172}}],line:62},"12":{loc:{start:{line:70,column:6},end:{line:73,column:7}},type:"if",locations:[{start:{line:70,column:6},end:{line:73,column:7}},{start:{line:70,column:6},end:{line:73,column:7}}],line:70},"13":{loc:{start:{line:70,column:10},end:{line:70,column:121}},type:"binary-expr",locations:[{start:{line:70,column:10},end:{line:70,column:36}},{start:{line:70,column:40},end:{line:70,column:64}},{start:{line:70,column:68},end:{line:70,column:92}},{start:{line:70,column:96},end:{line:70,column:121}}],line:70},"14":{loc:{start:{line:78,column:6},end:{line:81,column:7}},type:"if",locations:[{start:{line:78,column:6},end:{line:81,column:7}},{start:{line:78,column:6},end:{line:81,column:7}}],line:78},"15":{loc:{start:{line:86,column:6},end:{line:89,column:7}},type:"if",locations:[{start:{line:86,column:6},end:{line:89,column:7}},{start:{line:86,column:6},end:{line:89,column:7}}],line:86},"16":{loc:{start:{line:86,column:10},end:{line:86,column:61}},type:"binary-expr",locations:[{start:{line:86,column:10},end:{line:86,column:37}},{start:{line:86,column:41},end:{line:86,column:61}}],line:86},"17":{loc:{start:{line:104,column:6},end:{line:107,column:7}},type:"if",locations:[{start:{line:104,column:6},end:{line:107,column:7}},{start:{line:104,column:6},end:{line:107,column:7}}],line:104}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0,0,0],"12":[0,0],"13":[0,0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2m5tdfd6s9.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _createClass=(cov_2m5tdfd6s9.s[1]++,function(){cov_2m5tdfd6s9.f[0]++;function defineProperties(target,props){cov_2m5tdfd6s9.f[1]++;cov_2m5tdfd6s9.s[2]++;for(var i=0;i<props.length;i++){var descriptor=(cov_2m5tdfd6s9.s[3]++,props[i]);cov_2m5tdfd6s9.s[4]++;descriptor.enumerable=(cov_2m5tdfd6s9.b[0][0]++,descriptor.enumerable)||(cov_2m5tdfd6s9.b[0][1]++,false);cov_2m5tdfd6s9.s[5]++;descriptor.configurable=true;cov_2m5tdfd6s9.s[6]++;if("value"in descriptor){cov_2m5tdfd6s9.b[1][0]++;cov_2m5tdfd6s9.s[7]++;descriptor.writable=true;}else{cov_2m5tdfd6s9.b[1][1]++;}cov_2m5tdfd6s9.s[8]++;Object.defineProperty(target,descriptor.key,descriptor);}}cov_2m5tdfd6s9.s[9]++;return function(Constructor,protoProps,staticProps){cov_2m5tdfd6s9.f[2]++;cov_2m5tdfd6s9.s[10]++;if(protoProps){cov_2m5tdfd6s9.b[2][0]++;cov_2m5tdfd6s9.s[11]++;defineProperties(Constructor.prototype,protoProps);}else{cov_2m5tdfd6s9.b[2][1]++;}cov_2m5tdfd6s9.s[12]++;if(staticProps){cov_2m5tdfd6s9.b[3][0]++;cov_2m5tdfd6s9.s[13]++;defineProperties(Constructor,staticProps);}else{cov_2m5tdfd6s9.b[3][1]++;}cov_2m5tdfd6s9.s[14]++;return Constructor;};}());function _classCallCheck(instance,Constructor){cov_2m5tdfd6s9.f[3]++;cov_2m5tdfd6s9.s[15]++;if(!(instance instanceof Constructor)){cov_2m5tdfd6s9.b[4][0]++;cov_2m5tdfd6s9.s[16]++;throw new TypeError("Cannot call a class as a function");}else{cov_2m5tdfd6s9.b[4][1]++;}}var locationRegex=(cov_2m5tdfd6s9.s[17]++,/^([-+]?\d{1,2}([.]\d+)?),\s*([-+]?\d{1,3}([.]\d+)?)$/);var RedFlagValidator=(cov_2m5tdfd6s9.s[18]++,exports.RedFlagValidator=function(){cov_2m5tdfd6s9.f[4]++;/**
   * @description Validate red-flag input
   *
   * @constructor
   * @param {String} request
   * @param {Object} response
   *
   * @returns {Object} Object
   */function RedFlagValidator(){cov_2m5tdfd6s9.f[5]++;cov_2m5tdfd6s9.s[19]++;_classCallCheck(this,RedFlagValidator);cov_2m5tdfd6s9.s[20]++;this.passing=true;cov_2m5tdfd6s9.s[21]++;this.errMessage;}/** @function testForType
   *  @param {string}
   * @returns {boolean}
   */cov_2m5tdfd6s9.s[22]++;_createClass(RedFlagValidator,[{key:'testForCreatedBy',value:function testForCreatedBy(createdBy){cov_2m5tdfd6s9.f[6]++;cov_2m5tdfd6s9.s[23]++;if(typeof createdBy!=='number'){cov_2m5tdfd6s9.b[5][0]++;cov_2m5tdfd6s9.s[24]++;this.passing=false;cov_2m5tdfd6s9.s[25]++;this.errMessage='Type of createdBy must be a registered user number';}else{cov_2m5tdfd6s9.b[5][1]++;}}},{key:'testForType',value:function testForType(type){cov_2m5tdfd6s9.f[7]++;cov_2m5tdfd6s9.s[26]++;if((cov_2m5tdfd6s9.b[7][0]++,typeof type!=='string')||(cov_2m5tdfd6s9.b[7][1]++,!type.includes('red-flag'))&&(cov_2m5tdfd6s9.b[7][2]++,!type.includes('intervention'))){cov_2m5tdfd6s9.b[6][0]++;cov_2m5tdfd6s9.s[27]++;this.passing=false;cov_2m5tdfd6s9.s[28]++;this.errMessage='Type of record can either be red-flag or intervention';}else{cov_2m5tdfd6s9.b[6][1]++;}}},{key:'testForLocation',value:function testForLocation(location){cov_2m5tdfd6s9.f[8]++;cov_2m5tdfd6s9.s[29]++;if((cov_2m5tdfd6s9.b[9][0]++,typeof location!=='string')||(cov_2m5tdfd6s9.b[9][1]++,!locationRegex.test(location))){cov_2m5tdfd6s9.b[8][0]++;cov_2m5tdfd6s9.s[30]++;this.passing=false;cov_2m5tdfd6s9.s[31]++;this.errMessage='Input does not match a Lat Long coordinates';}else{cov_2m5tdfd6s9.b[8][1]++;}}},{key:'testForStatus',value:function testForStatus(status){cov_2m5tdfd6s9.f[9]++;cov_2m5tdfd6s9.s[32]++;if((cov_2m5tdfd6s9.b[11][0]++,typeof status!=='string')||(cov_2m5tdfd6s9.b[11][1]++,!status.includes('draft'))&&(cov_2m5tdfd6s9.b[11][2]++,!status.includes('under investigation'))&&(cov_2m5tdfd6s9.b[11][3]++,!status.includes('resolved'))&&(cov_2m5tdfd6s9.b[11][4]++,!status.includes('rejected'))){cov_2m5tdfd6s9.b[10][0]++;cov_2m5tdfd6s9.s[33]++;this.passing=false;cov_2m5tdfd6s9.s[34]++;this.errMessage='Input does not match any of the recommended status';}else{cov_2m5tdfd6s9.b[10][1]++;}}},{key:'testForImages',value:function testForImages(images){cov_2m5tdfd6s9.f[10]++;cov_2m5tdfd6s9.s[35]++;if((cov_2m5tdfd6s9.b[13][0]++,typeof images!=='string')||(cov_2m5tdfd6s9.b[13][1]++,!images.includes('.jpg'))&&(cov_2m5tdfd6s9.b[13][2]++,!images.includes('.png'))&&(cov_2m5tdfd6s9.b[13][3]++,!images.includes('.jpeg'))){cov_2m5tdfd6s9.b[12][0]++;cov_2m5tdfd6s9.s[36]++;this.passing=false;cov_2m5tdfd6s9.s[37]++;this.errMessage='Input is not a valid image extension';}else{cov_2m5tdfd6s9.b[12][1]++;}}},{key:'testForVideos',value:function testForVideos(videos){cov_2m5tdfd6s9.f[11]++;cov_2m5tdfd6s9.s[38]++;if(typeof videos!=='string'){cov_2m5tdfd6s9.b[14][0]++;cov_2m5tdfd6s9.s[39]++;this.passing=false;cov_2m5tdfd6s9.s[40]++;this.errMessage='Input must be a string';}else{cov_2m5tdfd6s9.b[14][1]++;}}},{key:'testForComment',value:function testForComment(comment){cov_2m5tdfd6s9.f[12]++;cov_2m5tdfd6s9.s[41]++;if((cov_2m5tdfd6s9.b[16][0]++,typeof comment!=='string')||(cov_2m5tdfd6s9.b[16][1]++,comment.length>300)){cov_2m5tdfd6s9.b[15][0]++;cov_2m5tdfd6s9.s[42]++;this.passing=false;cov_2m5tdfd6s9.s[43]++;this.errMessage='Comment must not exceed 300 words';}else{cov_2m5tdfd6s9.b[15][1]++;}}},{key:'resetValid',value:function resetValid(){cov_2m5tdfd6s9.f[13]++;cov_2m5tdfd6s9.s[44]++;this.passing=true;cov_2m5tdfd6s9.s[45]++;this.errMessage='';}},{key:'testForEmptyStringInput',value:function testForEmptyStringInput(incidents){cov_2m5tdfd6s9.f[14]++;var check=(cov_2m5tdfd6s9.s[46]++,Object.values(incidents));cov_2m5tdfd6s9.s[47]++;check=check.every(function(data){cov_2m5tdfd6s9.f[15]++;cov_2m5tdfd6s9.s[48]++;return data!=='';});cov_2m5tdfd6s9.s[49]++;if(!check){cov_2m5tdfd6s9.b[17][0]++;cov_2m5tdfd6s9.s[50]++;this.passing=false;cov_2m5tdfd6s9.s[51]++;this.errMessage='Input fields must not be empty';}else{cov_2m5tdfd6s9.b[17][1]++;}}},{key:'testRedFlag',value:function testRedFlag(incidents){cov_2m5tdfd6s9.f[16]++;cov_2m5tdfd6s9.s[52]++;this.resetValid();cov_2m5tdfd6s9.s[53]++;this.testForCreatedBy(incidents.createdBy);cov_2m5tdfd6s9.s[54]++;this.testForType(incidents.type);cov_2m5tdfd6s9.s[55]++;this.testForLocation(incidents.location);cov_2m5tdfd6s9.s[56]++;this.testForStatus(incidents.status);cov_2m5tdfd6s9.s[57]++;this.testForImages(incidents.images);cov_2m5tdfd6s9.s[58]++;this.testForVideos(incidents.videos);cov_2m5tdfd6s9.s[59]++;this.testForComment(incidents.comment);cov_2m5tdfd6s9.s[60]++;this.testForEmptyStringInput(incidents);var obj=(cov_2m5tdfd6s9.s[61]++,{passing:this.passing,err:this.errMessage});cov_2m5tdfd6s9.s[62]++;return obj;}}]);cov_2m5tdfd6s9.s[63]++;return RedFlagValidator;}());cov_2m5tdfd6s9.s[64]++;exports.default=RedFlagValidator;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRlUmVkRmxhZy5qcyJdLCJuYW1lcyI6WyJsb2NhdGlvblJlZ2V4IiwiUmVkRmxhZ1ZhbGlkYXRvciIsInBhc3NpbmciLCJlcnJNZXNzYWdlIiwiY3JlYXRlZEJ5IiwidHlwZSIsImluY2x1ZGVzIiwibG9jYXRpb24iLCJ0ZXN0Iiwic3RhdHVzIiwiaW1hZ2VzIiwidmlkZW9zIiwiY29tbWVudCIsImxlbmd0aCIsImluY2lkZW50cyIsImNoZWNrIiwiT2JqZWN0IiwidmFsdWVzIiwiZXZlcnkiLCJkYXRhIiwicmVzZXRWYWxpZCIsInRlc3RGb3JDcmVhdGVkQnkiLCJ0ZXN0Rm9yVHlwZSIsInRlc3RGb3JMb2NhdGlvbiIsInRlc3RGb3JTdGF0dXMiLCJ0ZXN0Rm9ySW1hZ2VzIiwidGVzdEZvclZpZGVvcyIsInRlc3RGb3JDb21tZW50IiwidGVzdEZvckVtcHR5U3RyaW5nSW5wdXQiLCJvYmoiLCJlcnIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNQSxnQkFBZ0Isc0RBQXRCOztJQUVhQyxnQixXQUFBQSxnQjtBQUNYOzs7Ozs7Ozs7QUFTQSw4QkFBYztBQUFBOztBQUNaLFNBQUtDLE9BQUwsR0FBZSxJQUFmO0FBQ0EsU0FBS0MsVUFBTDtBQUNEOztBQUVEOzs7Ozs7O3FDQUtpQkMsUyxFQUFXO0FBQzFCLFVBQUksT0FBT0EsU0FBUCxLQUFxQixRQUF6QixFQUFtQztBQUNqQyxhQUFLRixPQUFMLEdBQWUsS0FBZjtBQUNBLGFBQUtDLFVBQUwsR0FBa0Isb0RBQWxCO0FBQ0g7QUFDRjs7O2dDQUVhRSxJLEVBQU07QUFDaEIsVUFBSSxPQUFPQSxJQUFQLEtBQWdCLFFBQWhCLElBQTRCLENBQUNBLEtBQUtDLFFBQUwsQ0FBYyxVQUFkLENBQUQsSUFBOEIsQ0FBQ0QsS0FBS0MsUUFBTCxDQUFjLGNBQWQsQ0FBL0QsRUFBOEY7QUFDNUYsYUFBS0osT0FBTCxHQUFlLEtBQWY7QUFDQSxhQUFLQyxVQUFMLEdBQWtCLHVEQUFsQjtBQUNEO0FBQ0Y7OztvQ0FFZUksUSxFQUFVO0FBQ3hCLFVBQUksT0FBT0EsUUFBUCxLQUFvQixRQUFwQixJQUFnQyxDQUFDUCxjQUFjUSxJQUFkLENBQW1CRCxRQUFuQixDQUFyQyxFQUFtRTtBQUNqRSxhQUFLTCxPQUFMLEdBQWUsS0FBZjtBQUNBLGFBQUtDLFVBQUwsR0FBa0IsNkNBQWxCO0FBQ0Q7QUFDRjs7O2tDQUVhTSxNLEVBQVE7QUFDcEIsVUFBSSxPQUFPQSxNQUFQLEtBQWtCLFFBQWxCLElBQThCLENBQUNBLE9BQU9ILFFBQVAsQ0FBZ0IsT0FBaEIsQ0FBRCxJQUE2QixDQUFDRyxPQUFPSCxRQUFQLENBQWdCLHFCQUFoQixDQUE5QixJQUF3RSxDQUFDRyxPQUFPSCxRQUFQLENBQWdCLFVBQWhCLENBQXpFLElBQXdHLENBQUNHLE9BQU9ILFFBQVAsQ0FBZ0IsVUFBaEIsQ0FBM0ksRUFBd0s7QUFDdEssYUFBS0osT0FBTCxHQUFlLEtBQWY7QUFDQSxhQUFLQyxVQUFMLEdBQWtCLG9EQUFsQjtBQUNEO0FBQ0Y7OztrQ0FFYU8sTSxFQUFRO0FBQ3BCLFVBQUksT0FBT0EsTUFBUCxLQUFrQixRQUFsQixJQUE4QixDQUFDQSxPQUFPSixRQUFQLENBQWdCLE1BQWhCLENBQUQsSUFBNEIsQ0FBQ0ksT0FBT0osUUFBUCxDQUFnQixNQUFoQixDQUE3QixJQUF3RCxDQUFDSSxPQUFPSixRQUFQLENBQWdCLE9BQWhCLENBQTNGLEVBQXFIO0FBQ25ILGFBQUtKLE9BQUwsR0FBZSxLQUFmO0FBQ0EsYUFBS0MsVUFBTCxHQUFrQixzQ0FBbEI7QUFDRDtBQUNGOzs7a0NBRWFRLE0sRUFBUTtBQUNwQixVQUFJLE9BQU9BLE1BQVAsS0FBa0IsUUFBdEIsRUFBZ0M7QUFDOUIsYUFBS1QsT0FBTCxHQUFlLEtBQWY7QUFDQSxhQUFLQyxVQUFMLEdBQWtCLHdCQUFsQjtBQUNEO0FBQ0Y7OzttQ0FFY1MsTyxFQUFTO0FBQ3RCLFVBQUksT0FBT0EsT0FBUCxLQUFtQixRQUFuQixJQUErQkEsUUFBUUMsTUFBUixHQUFpQixHQUFwRCxFQUF5RDtBQUN2RCxhQUFLWCxPQUFMLEdBQWUsS0FBZjtBQUNBLGFBQUtDLFVBQUwsR0FBa0IsbUNBQWxCO0FBQ0Q7QUFDRjs7O2lDQUVZO0FBQ1gsV0FBS0QsT0FBTCxHQUFlLElBQWY7QUFDQSxXQUFLQyxVQUFMLEdBQWtCLEVBQWxCO0FBQ0Q7Ozs0Q0FFdUJXLFMsRUFBVztBQUNqQyxVQUFJQyxRQUFRQyxPQUFPQyxNQUFQLENBQWNILFNBQWQsQ0FBWjtBQUNBQyxjQUFRQSxNQUFNRyxLQUFOLENBQVk7QUFBQSxlQUFRQyxTQUFTLEVBQWpCO0FBQUEsT0FBWixDQUFSO0FBQ0EsVUFBSSxDQUFDSixLQUFMLEVBQVk7QUFDVixhQUFLYixPQUFMLEdBQWUsS0FBZjtBQUNBLGFBQUtDLFVBQUwsR0FBa0IsZ0NBQWxCO0FBQ0Q7QUFDRjs7O2dDQUVXVyxTLEVBQVc7QUFDckIsV0FBS00sVUFBTDtBQUNBLFdBQUtDLGdCQUFMLENBQXNCUCxVQUFVVixTQUFoQztBQUNBLFdBQUtrQixXQUFMLENBQWlCUixVQUFVVCxJQUEzQjtBQUNBLFdBQUtrQixlQUFMLENBQXFCVCxVQUFVUCxRQUEvQjtBQUNBLFdBQUtpQixhQUFMLENBQW1CVixVQUFVTCxNQUE3QjtBQUNBLFdBQUtnQixhQUFMLENBQW1CWCxVQUFVSixNQUE3QjtBQUNBLFdBQUtnQixhQUFMLENBQW1CWixVQUFVSCxNQUE3QjtBQUNBLFdBQUtnQixjQUFMLENBQW9CYixVQUFVRixPQUE5QjtBQUNBLFdBQUtnQix1QkFBTCxDQUE2QmQsU0FBN0I7QUFDQSxVQUFNZSxNQUFNO0FBQ1YzQixpQkFBUyxLQUFLQSxPQURKO0FBRVY0QixhQUFLLEtBQUszQjtBQUZBLE9BQVo7QUFJQSxhQUFPMEIsR0FBUDtBQUNEOzs7Ozs7a0JBR1k1QixnQiIsImZpbGUiOiJ2YWxpZGF0ZVJlZEZsYWcuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvZHViYnkvRG9jdW1lbnRzL2FuZGVsYUJvb3RjYW1wL2lSZXBvcnRlci9pUmVwb3J0ZXIvZHVtbXlBcGkvSGVscGVycyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGxvY2F0aW9uUmVnZXggPSAvXihbLStdP1xcZHsxLDJ9KFsuXVxcZCspPyksXFxzKihbLStdP1xcZHsxLDN9KFsuXVxcZCspPykkLztcblxuZXhwb3J0IGNsYXNzIFJlZEZsYWdWYWxpZGF0b3Ige1xuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIFZhbGlkYXRlIHJlZC1mbGFnIGlucHV0XG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2VcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gT2JqZWN0XG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBhc3NpbmcgPSB0cnVlO1xuICAgIHRoaXMuZXJyTWVzc2FnZTtcbiAgfVxuXG4gIC8qKiBAZnVuY3Rpb24gdGVzdEZvclR5cGVcbiAgICogIEBwYXJhbSB7c3RyaW5nfVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG5cbiAgdGVzdEZvckNyZWF0ZWRCeShjcmVhdGVkQnkpIHtcbiAgICBpZiAodHlwZW9mIGNyZWF0ZWRCeSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMucGFzc2luZyA9IGZhbHNlO1xuICAgICAgdGhpcy5lcnJNZXNzYWdlID0gJ1R5cGUgb2YgY3JlYXRlZEJ5IG11c3QgYmUgYSByZWdpc3RlcmVkIHVzZXIgbnVtYmVyJztcbiAgfVxufVxuXG4gIHRlc3RGb3JUeXBlKHR5cGUpIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgIT09ICdzdHJpbmcnIHx8ICF0eXBlLmluY2x1ZGVzKCdyZWQtZmxhZycpICYmICF0eXBlLmluY2x1ZGVzKCdpbnRlcnZlbnRpb24nKSkge1xuICAgICAgdGhpcy5wYXNzaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmVyck1lc3NhZ2UgPSAnVHlwZSBvZiByZWNvcmQgY2FuIGVpdGhlciBiZSByZWQtZmxhZyBvciBpbnRlcnZlbnRpb24nO1xuICAgIH1cbiAgfVxuXG4gIHRlc3RGb3JMb2NhdGlvbihsb2NhdGlvbikge1xuICAgIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICdzdHJpbmcnIHx8ICFsb2NhdGlvblJlZ2V4LnRlc3QobG9jYXRpb24pKSB7XG4gICAgICB0aGlzLnBhc3NpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXJyTWVzc2FnZSA9ICdJbnB1dCBkb2VzIG5vdCBtYXRjaCBhIExhdCBMb25nIGNvb3JkaW5hdGVzJztcbiAgICB9XG4gIH1cblxuICB0ZXN0Rm9yU3RhdHVzKHN0YXR1cykge1xuICAgIGlmICh0eXBlb2Ygc3RhdHVzICE9PSAnc3RyaW5nJyB8fCAhc3RhdHVzLmluY2x1ZGVzKCdkcmFmdCcpICYmICFzdGF0dXMuaW5jbHVkZXMoJ3VuZGVyIGludmVzdGlnYXRpb24nKSAmJiAhc3RhdHVzLmluY2x1ZGVzKCdyZXNvbHZlZCcpICYmICFzdGF0dXMuaW5jbHVkZXMoJ3JlamVjdGVkJykpIHtcbiAgICAgIHRoaXMucGFzc2luZyA9IGZhbHNlO1xuICAgICAgdGhpcy5lcnJNZXNzYWdlID0gJ0lucHV0IGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgcmVjb21tZW5kZWQgc3RhdHVzJztcbiAgICB9XG4gIH1cblxuICB0ZXN0Rm9ySW1hZ2VzKGltYWdlcykge1xuICAgIGlmICh0eXBlb2YgaW1hZ2VzICE9PSAnc3RyaW5nJyB8fCAhaW1hZ2VzLmluY2x1ZGVzKCcuanBnJykgJiYgIWltYWdlcy5pbmNsdWRlcygnLnBuZycpICYmICFpbWFnZXMuaW5jbHVkZXMoJy5qcGVnJykpIHtcbiAgICAgIHRoaXMucGFzc2luZyA9IGZhbHNlO1xuICAgICAgdGhpcy5lcnJNZXNzYWdlID0gJ0lucHV0IGlzIG5vdCBhIHZhbGlkIGltYWdlIGV4dGVuc2lvbic7XG4gICAgfVxuICB9XG5cbiAgdGVzdEZvclZpZGVvcyh2aWRlb3MpIHtcbiAgICBpZiAodHlwZW9mIHZpZGVvcyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMucGFzc2luZyA9IGZhbHNlO1xuICAgICAgdGhpcy5lcnJNZXNzYWdlID0gJ0lucHV0IG11c3QgYmUgYSBzdHJpbmcnO1xuICAgIH1cbiAgfVxuXG4gIHRlc3RGb3JDb21tZW50KGNvbW1lbnQpIHtcbiAgICBpZiAodHlwZW9mIGNvbW1lbnQgIT09ICdzdHJpbmcnIHx8IGNvbW1lbnQubGVuZ3RoID4gMzAwKSB7XG4gICAgICB0aGlzLnBhc3NpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuZXJyTWVzc2FnZSA9ICdDb21tZW50IG11c3Qgbm90IGV4Y2VlZCAzMDAgd29yZHMnO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0VmFsaWQoKSB7XG4gICAgdGhpcy5wYXNzaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmVyck1lc3NhZ2UgPSAnJztcbiAgfVxuXG4gIHRlc3RGb3JFbXB0eVN0cmluZ0lucHV0KGluY2lkZW50cykge1xuICAgIGxldCBjaGVjayA9IE9iamVjdC52YWx1ZXMoaW5jaWRlbnRzKTtcbiAgICBjaGVjayA9IGNoZWNrLmV2ZXJ5KGRhdGEgPT4gZGF0YSAhPT0gJycpO1xuICAgIGlmICghY2hlY2spIHtcbiAgICAgIHRoaXMucGFzc2luZyA9IGZhbHNlO1xuICAgICAgdGhpcy5lcnJNZXNzYWdlID0gJ0lucHV0IGZpZWxkcyBtdXN0IG5vdCBiZSBlbXB0eSc7XG4gICAgfVxuICB9XG5cbiAgdGVzdFJlZEZsYWcoaW5jaWRlbnRzKSB7XG4gICAgdGhpcy5yZXNldFZhbGlkKCk7XG4gICAgdGhpcy50ZXN0Rm9yQ3JlYXRlZEJ5KGluY2lkZW50cy5jcmVhdGVkQnkpO1xuICAgIHRoaXMudGVzdEZvclR5cGUoaW5jaWRlbnRzLnR5cGUpO1xuICAgIHRoaXMudGVzdEZvckxvY2F0aW9uKGluY2lkZW50cy5sb2NhdGlvbik7XG4gICAgdGhpcy50ZXN0Rm9yU3RhdHVzKGluY2lkZW50cy5zdGF0dXMpO1xuICAgIHRoaXMudGVzdEZvckltYWdlcyhpbmNpZGVudHMuaW1hZ2VzKTtcbiAgICB0aGlzLnRlc3RGb3JWaWRlb3MoaW5jaWRlbnRzLnZpZGVvcyk7XG4gICAgdGhpcy50ZXN0Rm9yQ29tbWVudChpbmNpZGVudHMuY29tbWVudCk7XG4gICAgdGhpcy50ZXN0Rm9yRW1wdHlTdHJpbmdJbnB1dChpbmNpZGVudHMpO1xuICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgIHBhc3Npbmc6IHRoaXMucGFzc2luZyxcbiAgICAgIGVycjogdGhpcy5lcnJNZXNzYWdlXG4gICAgfTtcbiAgICByZXR1cm4gb2JqO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZEZsYWdWYWxpZGF0b3I7Il19